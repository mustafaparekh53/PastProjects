{"version":3,"sources":["../../src/webparts/ComComponents/UxpList/UxpList.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,MAAM,MAAM,uBAAuB,CAAC;AAG3C,OAAO,EAAE,QAAQ,EAAE,MAAM,sCAAsC,CAAC;AAChE,OAAO,EACL,WAAW,EACX,qBAAqB,EACrB,SAAS,EAET,aAAa,EACb,iBAAiB,EAClB,MAAM,wCAAwC,CAAC;AAChD,OAAO,EAAE,UAAU,EAAE,MAAM,uCAAuC,CAAC;AAEnE,OAAO,EAAE,KAAK,EAAE,MAAM,kCAAkC,CAAC;AACzD,+CAA+C;AAC/C,OAAO,KAAK,CAAC,MAAM,QAAQ,CAAC;AAC5B;IAAqC,2BAGpC;IAsBC,iBAAY,KAAU;QAAtB,YACE,kBAAM,KAAK,CAAC,SAQb;QA9BO,gBAAU,GAAc,IAAI,SAAS,CAAC;YAC5C,kBAAkB,EAAE;gBAClB,KAAI,CAAC,QAAQ,CAAC;oBACZ,gBAAgB,EAAE,KAAI,CAAC,oBAAoB,EAAE;iBAC9C,CAAC,CAAC;gBACH,EAAE,CAAC,CAAC,KAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC,CAAC;oBACjC,gDAAgD;oBAChD,IAAI,MAAM,GAAQ,KAAI,CAAC,KAAK,CAAC,iBAAiB,CAC5C,KAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAC/B,CAAC;oBACF,2BAA2B;oBAC3B,KAAI,CAAC,QAAQ,CAAC;wBACZ,kBAAkB,EAAE,MAAM,CAAC,kBAAkB;wBAC7C,iBAAiB,EAAE,MAAM,CAAC,iBAAiB;qBAC5C,CAAC,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,mDAAmD;gBACrD,CAAC;YACH,CAAC;SACF,CAAC,CAAC;QAID,KAAI,CAAC,KAAK,GAAG;YACX,gBAAgB,EAAE,KAAI,CAAC,oBAAoB,EAAE;YAC7C,KAAK,EAAE,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC;YAC5B,iBAAiB,EAAE,KAAI,CAAC,KAAK,CAAC,iBAAiB,KAAK,IAAI,GAAG,IAAI,GAAG,KAAK;YACvE,OAAO,EAAE,KAAI,CAAC,WAAW,EAAE;YAC3B,gBAAgB;SACjB,CAAC;;IACJ,CAAC;IAEM,wBAAM,GAAb;QACE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,KAAK,SAAS;YACrC,IAAI,CAAC,KAAK,CAAC,OAAO,KAAK,KAAK,GAAG,IAAI,GAAG,CACtC,6BAAK,SAAS,EAAE,MAAM,CAAC,OAAO;YAC3B,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,GAAG,CAC7B,oBAAC,KAAK,IAAC,KAAK,EAAE,EAAE,UAAU,EAAE,MAAM,EAAE;gBAClC,4BAAI,KAAK,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,IAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAM,CAC3D,CACT,GAAG,CACF,EAAE,CACH;YACD,oBAAC,UAAU,IACT,kBAAkB,EAAE,KAAK,EACzB,KAAK,EAAE,IAAI,CAAC,mBAAmB,EAAE,EACjC,QAAQ,EAAE,IAAI,CAAC,sBAAsB,EAAE,GACvC;YACF,oBAAC,WAAW,IACV,SAAS,EAAE,MAAM,CAAC,WAAW,EAC7B,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EACvB,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,EAC3B,UAAU,EAAE,qBAAqB,CAAC,SAAS,EAC3C,SAAS,EAAE,IAAI,CAAC,UAAU,EAC1B,8BAA8B,EAAE,IAAI,EACpC,aAAa,EACX,IAAI,CAAC,KAAK,CAAC,aAAa,KAAK,SAAS;sBAClC,aAAa,CAAC,MAAM;sBACpB,IAAI,CAAC,KAAK,CAAC,aAAa,EAE9B,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa,EACvC,kBAAkB,EAAE,IAAI,CAAC,KAAK,CAAC,kBAAkB,GACjD,CACE,CACP,CAAC;IACJ,CAAC;IAED,oCAAoC;IAC7B,mCAAiB,GAAxB,cAAkC,CAAC;IAC5B,4BAAU,GAAjB,UAAkB,KAAU;QAC1B,sBAAsB;QACtB,oCAAoC;IACtC,CAAC;IACM,2CAAyB,GAAhC,UAAiC,SAAwB;QACvD,yBAAyB;QACzB,sBAAsB;QACtB,2CAA2C;QAC3C,sDAAsD;QACtD,uBAAuB;QACvB,0CAA0C;QAC1C,IAAI,CAAC,QAAQ,CAAC;YACZ,oCAAoC;YACpC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;YAChC,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE;SAC5B,CAAC,CAAC;QACH,GAAG;IACL,CAAC;IAEO,qCAAmB,GAA3B;QAAA,iBAgGC;QA/FC,IAAI,KAAK,GAA0B,EAAE,CAAC;QACtC,6CAA6C;QAC7C,EAAE,CAAC,CACD,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE,KAAK,CAAC;YACxC,IAAI,CAAC,KAAK,CAAC,kBAAkB,KAAK,SAAS;YAC3C,CAAC,IAAI,CAAC,KAAK,CAAC,iBACd,CAAC,CAAC,CAAC;YACD,KAAK,CAAC,IAAI,CAAC;gBACT,GAAG,EAAE,SAAS;gBACd,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,IAAI,IAAI;gBACvC,IAAI,EAAE,KAAK;gBACX,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,kBAAkB;aACvC,CAAC,CAAC;QACL,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;YAC7C,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,mBAAmB,KAAK,SAAS,CAAC,CAAC,CAAC;gBACjD,oCAAoC;gBACpC,EAAE,CAAC,CACD,IAAI,CAAC,KAAK,CAAC,kBAAkB,KAAK,SAAS;oBAC3C,IAAI,CAAC,KAAK,CAAC,kBACb,CAAC,CAAC,CAAC;gBACH,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,KAAK,CAAC,IAAI,CAAC;wBACT,GAAG,EAAE,UAAU;wBACf,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,IAAI,IAAI;wBACxC,IAAI,EAAE,MAAM;wBACZ,OAAO,EAAE;4BACP,EAAE,CAAC,CACD,KAAI,CAAC,KAAK,CAAC,aAAa,KAAK,SAAS;gCACtC,KAAI,CAAC,KAAK,CAAC,aAAa,KAAK,aAAa,CAAC,QAAQ;gCACnD,KAAI,CAAC,KAAK,CAAC,iBACb,CAAC,CAAC,CAAC;gCACD,KAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,KAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC,CAAC;4BAC/D,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACN,KAAI,CAAC,KAAK,CAAC,mBAAmB,CAC5B,KAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,EACjC,KAAI,CAAC,UAAU,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC,CACxC,CAAC;4BACJ,CAAC;wBACH,CAAC;qBACF,CAAC,CAAC;gBACL,CAAC;YACH,CAAC;YACD,EAAE,CAAC,CACD,IAAI,CAAC,KAAK,CAAC,kBAAkB,KAAK,SAAS;gBAC3C,CAAC,IAAI,CAAC,KAAK,CAAC,iBACd,CAAC,CAAC,CAAC;gBACD,KAAK,CAAC,IAAI,CAAC;oBACT,GAAG,EAAE,SAAS;oBACd,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,IAAI,IAAI;oBACvC,IAAI,EAAE,KAAK;oBACX,OAAO,EAAE;wBACP,KAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,KAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;oBACnE,CAAC;iBACF,CAAC,CAAC;YACL,CAAC;QACH,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;YAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,qBAAqB,KAAK,SAAS,CAAC,CAAC,CAAC;gBACnD,KAAK,CAAC,IAAI,CAAC;oBACT,GAAG,EAAE,WAAW;oBAChB,IAAI,EAAE,IAAI;oBACV,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE;wBACP,EAAE,CAAC,CAAC,KAAI,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC,CAAC;4BACrC,KAAI,CAAC,KAAK,CAAC,qBAAqB,CAAC,KAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC,CAAC;wBACnE,CAAC;oBACH,CAAC;iBACF,CAAC,CAAC;YACL,CAAC;YACD,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,iBAAiB,KAAK,SAAS,CAAC,CAAC,CAAC;gBAC/C,oCAAoC;gBACpC,EAAE,CAAC,CACD,IAAI,CAAC,KAAK,CAAC,kBAAkB,KAAK,SAAS;oBAC3C,IAAI,CAAC,KAAK,CAAC,kBACb,CAAC,CAAC,CAAC;gBACH,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,KAAK,CAAC,IAAI,CAAC;wBACT,GAAG,EAAE,UAAU;wBACf,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,IAAI,IAAI;wBACxC,IAAI,EAAE,MAAM;wBACZ,OAAO,EAAE;4BACP,EAAE,CAAC,CACD,KAAI,CAAC,KAAK,CAAC,aAAa,KAAK,SAAS;gCACtC,KAAI,CAAC,KAAK,CAAC,aAAa,KAAK,aAAa,CAAC,QAC7C,CAAC,CAAC,CAAC;gCACD,KAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,KAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC,CAAC;4BAC/D,CAAC;wBACH,CAAC;qBACF,CAAC,CAAC;gBACL,CAAC;YACH,CAAC;QACH,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACf,CAAC;IAEO,wCAAsB,GAA9B;QACE,IAAI,KAAK,GAA0B,EAAE,CAAC;QAEtC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;YAC3C,KAAK,CAAC,IAAI,CAAC;gBACT,GAAG,EAAE,iBAAiB;gBACtB,IAAI,EAAE,KAAG,IAAI,CAAC,oBAAoB,EAAI;gBACtC,IAAI,EAAE,QAAQ;gBACd,OAAO,EAAE,IAAI,CAAC,gBAAgB;aAC/B,CAAC,CAAC;QACL,CAAC;QAED,MAAM,CAAC,KAAK,CAAC;IACf,CAAC;IAEO,sCAAoB,GAA5B;QACE,MAAM,CAAC,uBAAM,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE,uBAAK,CAAC;IACvD,CAAC;IAGO,kCAAgB,GAAxB;QACE,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;IACxC,CAAC;IAEO,2BAAS,GAAjB,UAAkB,KAAoB;QADtC,iBA4DC;QA1DC,IAAI,KAAK,GAAU,EAAE,CAAC;QACtB,+CAA+C;QAC/C,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC;YACrC,IAAI,IAAI,GAAU,KAAK,CAAC,IAAI,CAAC,CAAC,OAAO;YACrC,IAAI,QAAM,GAAU,KAAK,CAAC,YAAY,CAAC;YAEvC,IAAI,CAAC,GAAG,CAAC,UAAC,GAAQ;gBAChB,IAAI,IAAI,GAAO,EAAE,CAAC;gBAElB,QAAM,CAAC,GAAG,CAAC,UAAC,KAAU;oBACpB,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;oBACtB,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;oBACtB,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;wBACb,KAAK,MAAM;4BACT,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,KAAK,CAAC,CAAC,CAAC;gCAC/B,IAAI,cAAY,GAAG,EAAE,CAAC;gCACtB,IAAI,KAAK,GAAU,GAAG,CAAC,IAAI,CAAC,CAAC;gCAE7B,KAAK,CAAC,GAAG,CAAC,UAAC,IAAS;oCAClB,cAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gCAChC,CAAC,CAAC,CAAC;gCACH,IAAI,CAAC,IAAI,CAAC,GAAG,cAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;4BACvC,CAAC;4BACD,KAAK,CAAC;wBACR,KAAK,WAAW;4BACd,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gCACd,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,UAAA,IAAI;oCAC7B,MAAM,CAAC,KAAK,CAAC,aAAa,CACxB,GAAG,EACH,EAAE,IAAI,EAAE,IAAI,CAAC,iBAAiB,EAAE,EAChC,IAAI,CAAC,QAAQ,CACd,CAAC;gCACJ,CAAC,CAAC,CAAC;4BACL,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACN,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;4BACpB,CAAC;4BACD,KAAK,CAAC;wBACR,KAAK,YAAY;4BACf,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;4BAChB,KAAK,CAAC;wBACR;4BACE,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;4BAC5B,KAAK,CAAC;oBACV,CAAC;gBACH,CAAC,CAAC,CAAC;gBACH,EAAE,CAAC,CACD,KAAI,CAAC,KAAK,CAAC,YAAY,KAAK,SAAS;oBACrC,KAAI,CAAC,KAAK,CAAC,YAAY,CAAC,MAAM,GAAG,CACnC,CAAC,CAAC,CAAC;oBACD,KAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,UAAA,GAAG;wBAC7B,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;oBACvB,CAAC,CAAC,CAAC;gBACL,CAAC;gBACD,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACnB,CAAC,CAAC,CAAC;QACL,CAAC;QAED,MAAM,CAAC,KAAK,CAAC;IACf,CAAC;IAEO,6BAAW,GAAnB;QACE,IAAI,OAAO,GAAc,EAAE,CAAC;QAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC;YAC5B,+CAA+C;YAC/C,wCAAwC;YACxC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,UAAC,KAAU,EAAE,KAAa;gBACpD,OAAO,CAAC,IAAI,CAAC;oBACX,GAAG,EAAE,KAAK,GAAG,EAAE;oBACf,IAAI,EAAE,KAAK,CAAC,SAAS;oBACrB,SAAS,EAAE,KAAK,CAAC,IAAI;oBACrB,iBAAiB,EACf,KAAK,CAAC,iBAAiB,IAAI,iBAAiB,CAAC,QAAQ;oBACvD,QAAQ,EAAE,KAAK,CAAC,QAAQ,IAAI,EAAE;oBAC9B,QAAQ,EAAE,KAAK,CAAC,QAAQ,IAAI,GAAG;oBAC/B,WAAW,EAAE,IAAI;iBAClB,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC;QACD,MAAM,CAAC,OAAO,CAAC;IACjB,CAAC;IACM,uCAAqB,GAA5B,UAA6B,SAAS,EAAE,SAAS;QAC/C,EAAE,CAAC,CACD,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,SAAS,CAAC;YACjC,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,SAAS,CAClC,CAAC,CAAC,CAAC;YACD,+CAA+C;YAC/C,MAAM,CAAC,IAAI,CAAC;QACd,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,iDAAiD;YACjD,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;IACH,CAAC;IAhGD;QADC,QAAQ;mDAGR;IAED;QADC,QAAQ;4CA4DR;IAED;QADC,QAAQ;8CAoBR;IAaH,cAAC;CAnTD,AAmTC,CAnToC,KAAK,CAAC,aAAa,GAmTvD;eAnToB,OAAO","file":"webparts/ComComponents/UxpList/UxpList.js","sourcesContent":["import * as React from \"react\";\r\nimport styles from \"./UxpList.module.scss\";\r\nimport { IUxpListProps } from \"./IUxpListProps\";\r\nimport { IUxpListState } from \"./IUxpListState\";\r\nimport { autobind } from \"office-ui-fabric-react/lib/Utilities\";\r\nimport {\r\n  DetailsList,\r\n  DetailsListLayoutMode,\r\n  Selection,\r\n  IColumn,\r\n  SelectionMode,\r\n  ColumnActionsMode\r\n} from \"office-ui-fabric-react/lib/DetailsList\";\r\nimport { CommandBar } from \"office-ui-fabric-react/lib/CommandBar\";\r\nimport { IContextualMenuItem } from \"office-ui-fabric-react/lib/ContextualMenu\";\r\nimport { Label } from \"office-ui-fabric-react/lib/Label\";\r\n//import emitter from \"../../ComComponents/ev\";\r\nimport * as _ from \"lodash\";\r\nexport default class UxpList extends React.PureComponent<\r\n  IUxpListProps,\r\n  IUxpListState\r\n> {\r\n  private _selection: Selection = new Selection({\r\n    onSelectionChanged: () => {\r\n      this.setState({\r\n        selectionDetails: this._getSelectionDetails()\r\n      });\r\n      if (this.props.onSelectedChanged) {\r\n        //  console.log(\"this.props.onSelectedChanged\");\r\n        let states: any = this.props.onSelectedChanged(\r\n          this._selection.getSelection()\r\n        );\r\n        // this.selectEmit(states);\r\n        this.setState({\r\n          ishiddenEditButton: states.ishiddenEditButton,\r\n          ishiddenNewButton: states.ishiddenNewButton\r\n        });\r\n      } else {\r\n        //  console.log(\"no this.props.onSelectedChanged\");\r\n      }\r\n    }\r\n  });\r\n\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      selectionDetails: this._getSelectionDetails(),\r\n      items: this._getItems(props),\r\n      ishiddenNewButton: this.props.ishiddenNewButton === true ? true : false,\r\n      hasCols: this._getColumns()\r\n      // upDateTime: 0\r\n    };\r\n  }\r\n\r\n  public render(): React.ReactElement<IUxpListProps> {\r\n    return this.props.visible !== undefined &&\r\n      this.props.visible === false ? null : (\r\n      <div className={styles.uxpList}>\r\n        {this.props.label.length > 0 ? (\r\n          <Label style={{ marginLeft: \"20px\" }}>\r\n            <h4 style={{ margin: \"0\", padding: \"0\" }}>{this.props.label}</h4>\r\n          </Label>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <CommandBar\r\n          isSearchBoxVisible={false}\r\n          items={this._getCommandBarItems()}\r\n          farItems={this._getCommandBarFarItems()}\r\n        />\r\n        <DetailsList\r\n          className={styles.detailsList}\r\n          items={this.state.items}\r\n          columns={this.state.hasCols}\r\n          layoutMode={DetailsListLayoutMode.justified}\r\n          selection={this._selection}\r\n          selectionPreservedOnEmptyClick={true}\r\n          selectionMode={\r\n            this.props.selectionMode === undefined\r\n              ? SelectionMode.single\r\n              : this.props.selectionMode\r\n          }\r\n          onItemInvoked={this.props.onItemInvoked}\r\n          onRenderItemColumn={this.props.onRenderItemColumn}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // tslint:disable-next-line:no-empty\r\n  public componentDidMount(): void {}\r\n  public selectEmit(value: any): void {\r\n    // console.log(value);\r\n    //emitter.emit(\"setIsLaywer\",value);\r\n  }\r\n  public componentWillReceiveProps(nextProps: IUxpListProps): void {\r\n    //console.log(nextProps);\r\n    // this._getColumns();\r\n    //let ctime: number = new Date().getTime();\r\n    //let difTime: number = ctime - this.state.upDateTime;\r\n    //console.log(difTime);\r\n    //  if (difTime > 4000 || difTime < 100) {\r\n    this.setState({\r\n      // upDateTime: new Date().getTime(),\r\n      items: this._getItems(nextProps),\r\n      hasCols: this._getColumns()\r\n    });\r\n    //}\r\n  }\r\n\r\n  private _getCommandBarItems(): IContextualMenuItem[] {\r\n    var items: IContextualMenuItem[] = [];\r\n    // console.log(this.state.ishiddenNewButton);\r\n    if (\r\n      this._selection.getSelectedCount() === 0 &&\r\n      this.props.onNewButtonClicked !== undefined &&\r\n      !this.state.ishiddenNewButton\r\n    ) {\r\n      items.push({\r\n        key: \"newItem\",\r\n        name: this.props.newButtonTitle || \"新建\",\r\n        icon: \"Add\",\r\n        onClick: this.props.onNewButtonClicked\r\n      });\r\n    }\r\n\r\n    if (this._selection.getSelectedCount() === 1) {\r\n      if (this.props.onEditButtonClicked !== undefined) {\r\n        // tslint:disable-next-line:no-empty\r\n        if (\r\n          this.state.ishiddenEditButton !== undefined &&\r\n          this.state.ishiddenEditButton\r\n        ) {\r\n        } else {\r\n          items.push({\r\n            key: \"editItem\",\r\n            name: this.props.editButtonTitle || \"编辑\",\r\n            icon: \"Edit\",\r\n            onClick: () => {\r\n              if (\r\n                this.props.selectionMode !== undefined &&\r\n                this.props.selectionMode === SelectionMode.multiple &&\r\n                this.props.onMultEditClicked\r\n              ) {\r\n                this.props.onMultEditClicked(this._selection.getSelection());\r\n              } else {\r\n                this.props.onEditButtonClicked(\r\n                  this._selection.getSelection()[0],\r\n                  this._selection.getSelectedIndices()[0]\r\n                );\r\n              }\r\n            }\r\n          });\r\n        }\r\n      }\r\n      if (\r\n        this.props.onNewButtonClicked !== undefined &&\r\n        !this.state.ishiddenNewButton\r\n      ) {\r\n        items.push({\r\n          key: \"newItem\",\r\n          name: this.props.newButtonTitle || \"新建\",\r\n          icon: \"Add\",\r\n          onClick: () => {\r\n            this.props.onNewButtonClicked(this._selection.getSelection()[0]);\r\n          }\r\n        });\r\n      }\r\n    }\r\n    if (this._selection.getSelectedCount() > 0) {\r\n      if (this.props.onDeleteButtonClicked !== undefined) {\r\n        items.push({\r\n          key: \"deletItem\",\r\n          name: \"删除\",\r\n          icon: \"Delete\",\r\n          onClick: () => {\r\n            if (this.props.onDeleteButtonClicked) {\r\n              this.props.onDeleteButtonClicked(this._selection.getSelection());\r\n            }\r\n          }\r\n        });\r\n      }\r\n      if (this.props.onMultEditClicked !== undefined) {\r\n        // tslint:disable-next-line:no-empty\r\n        if (\r\n          this.state.ishiddenEditButton !== undefined &&\r\n          this.state.ishiddenEditButton\r\n        ) {\r\n        } else {\r\n          items.push({\r\n            key: \"editItem\",\r\n            name: this.props.editButtonTitle || \"编辑\",\r\n            icon: \"Edit\",\r\n            onClick: () => {\r\n              if (\r\n                this.props.selectionMode !== undefined &&\r\n                this.props.selectionMode === SelectionMode.multiple\r\n              ) {\r\n                this.props.onMultEditClicked(this._selection.getSelection());\r\n              }\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }\r\n    return items;\r\n  }\r\n\r\n  private _getCommandBarFarItems(): IContextualMenuItem[] {\r\n    var items: IContextualMenuItem[] = [];\r\n\r\n    if (this._selection.getSelectedCount() > 0) {\r\n      items.push({\r\n        key: \"cancelSelection\",\r\n        name: `${this._getSelectionDetails()}`,\r\n        icon: \"Cancel\",\r\n        onClick: this._cancelSelection\r\n      });\r\n    }\r\n\r\n    return items;\r\n  }\r\n\r\n  private _getSelectionDetails(): string {\r\n    return `已选择${this._selection.getSelectedCount()}条记录`;\r\n  }\r\n\r\n  @autobind\r\n  private _cancelSelection() {\r\n    this._selection.setAllSelected(false);\r\n  }\r\n  @autobind\r\n  private _getItems(props: IUxpListProps): any[] {\r\n    let items: any[] = [];\r\n    //  console.log(props.data,props.schemaFields);\r\n    if (props.data && props.schemaFields) {\r\n      let rows: any[] = props.data; //.Row;\r\n      let fields: any[] = props.schemaFields;\r\n\r\n      rows.map((row: any) => {\r\n        let item: {} = {};\r\n\r\n        fields.map((field: any) => {\r\n          let name = field.Name;\r\n          let type = field.Type;\r\n          switch (type) {\r\n            case \"User\":\r\n              if (row[name] instanceof Array) {\r\n                let displayNames = [];\r\n                let users: any[] = row[name];\r\n\r\n                users.map((user: any) => {\r\n                  displayNames.push(user.title);\r\n                });\r\n                item[name] = displayNames.join(\", \");\r\n              }\r\n              break;\r\n            case \"linkArray\":\r\n              if (row[name]) {\r\n                item[name] = row[name].map(link => {\r\n                  return React.createElement(\r\n                    \"A\",\r\n                    { href: link.ServerRelativeUrl },\r\n                    link.FileName\r\n                  );\r\n                });\r\n              } else {\r\n                item[name] = null;\r\n              }\r\n              break;\r\n            case \"Calculated\":\r\n              item[name] = \"\";\r\n              break;\r\n            default:\r\n              item[name] = row[name] + \"\";\r\n              break;\r\n          }\r\n        });\r\n        if (\r\n          this.props.hiddenFields !== undefined &&\r\n          this.props.hiddenFields.length > 0\r\n        ) {\r\n          this.props.hiddenFields.map(key => {\r\n            item[key] = row[key];\r\n          });\r\n        }\r\n        items.push(item);\r\n      });\r\n    }\r\n\r\n    return items;\r\n  }\r\n  @autobind\r\n  private _getColumns(): IColumn[] {\r\n    let columns: IColumn[] = [];\r\n    if (this.props.schemaFields) {\r\n      // let fields: any[] = this.props.schema.Field;\r\n      // console.log(this.props.schemaFields);\r\n      this.props.schemaFields.map((field: any, index: number) => {\r\n        columns.push({\r\n          key: index + \"\",\r\n          name: field.ariaLabel,\r\n          fieldName: field.Name,\r\n          columnActionsMode:\r\n            field.columnActionsMode || ColumnActionsMode.disabled,\r\n          minWidth: field.minWidth && 75,\r\n          maxWidth: field.maxWidth && 200,\r\n          isResizable: true\r\n        });\r\n      });\r\n    }\r\n    return columns;\r\n  }\r\n  public shouldComponentUpdate(nextProps, nextState): boolean {\r\n    if (\r\n      !_.isEqual(this.props, nextProps) ||\r\n      !_.isEqual(this.state, nextState)\r\n    ) {\r\n      //console.log(\"shouldComponentUpdate is true\");\r\n      return true;\r\n    } else {\r\n      // console.log(\"shouldComponentUpdate is false\");\r\n      return false;\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":"..\\..\\..\\..\\src"}